<!DOCTYPE html><html class="appearance-auto" lang="zh-CN"><head><meta charset="UTF-8"><title>网页开发纪实</title><meta name="description" content="For a New Life"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/image/favicon2.ico"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="网页开发纪实前言在刚刚学习过了HTML、CSS、JavaScript之后，Teburile感到有些手痒，心中有无限的创意想要施展出来。经过两天艰苦卓绝的斗争，大概获得的战果是这样的：

虽然说，结果不是那么好看，但是，著名企业家罗老师说过，“又不是不能用！”。本着学习新知的心态，Teburile打算回忆一下这两天都摸了什么鱼做了些什么惊为天人的垃圾代码操作。
第一天Teburile一开始只是想试试js，于是选择做一个登录的页面，于是从网上嫖借鉴来了一部分html和css代码，做了一个基本的、丑丑的样式，虽然难看，但最起码能用。后来，为了利用自己写后端的约等于没有的能力，Teburile用FastAPI开了一个简单的后端，用if-else操作！
试运行，在本地，简直完美！
为了让登录的效果看上去好一点，Teb.."><meta name="generator" content="Hexo 5.4.0"></head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">Teburile's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">网页开发纪实</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">点击返回顶部</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E9%A1%B5%E5%BC%80%E5%8F%91%E7%BA%AA%E5%AE%9E"><span class="toc-text">网页开发纪实</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E5%A4%A9"><span class="toc-text">第一天</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E5%A4%A9"><span class="toc-text">第二天</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E7%A2%B0%E5%88%B0%E7%9A%84%E5%A5%87%E5%A5%87%E6%80%AA%E6%80%AA%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-text">中间碰到的奇奇怪怪的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9F"><span class="toc-text">总结？</span></a></li></ol></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/webpage"><i class="tag post-item-tag">webpage</i></a><a href="/tags/record"><i class="tag post-item-tag">record</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">网页开发纪实</h1><time class="has-text-grey" datetime="2021-08-27T12:00:00.000Z">2021-08-27</time><article class="mt-2 post-content"><h2 id="网页开发纪实"><a href="#网页开发纪实" class="headerlink" title="网页开发纪实"></a>网页开发纪实</h2><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>在刚刚学习过了HTML、CSS、JavaScript之后，Teburile感到有些手痒，心中有无限的创意想要施展出来。经过两天艰苦卓绝的斗争，大概获得的战果是这样的：</p>
<p><img src="https://gitee.com/teburile/picgo/raw/master/img/%E6%AF%95%E4%B8%9A%E8%AE%BA%E6%96%87%E7%8E%B0%E7%8A%B6.jpg" alt="毕业论文现状"></p>
<p>虽然说，<a href="%22server.teburil.tk%22">结果</a>不是那么好看，但是，著名企业家罗老师说过，“又不是不能用！”。本着学习新知的心态，Teburile打算回忆一下这两天都<del>摸了什么鱼</del>做了些什么惊为天人的<del>垃圾代码</del>操作。</p>
<h3 id="第一天"><a href="#第一天" class="headerlink" title="第一天"></a>第一天</h3><p>Teburile一开始只是想试试js，于是选择做一个登录的页面，于是从网上<del>嫖</del>借鉴来了一部分html和css代码，做了一个基本的、丑丑的样式，虽然难看，但最起码能用。后来，为了利用自己写后端的约等于没有的能力，Teburile用FastAPI开了一个简单的后端，用if-else操作！</p>
<p>试运行，在本地，简直完美！</p>
<p>为了让登录的效果看上去好一点，Teburile把前几天写的一个简单的网页做成了主页面，上面放着大大的<em><strong>广告位招商</strong></em>（因为有人和Teburile商量要买这个位置），还有从植吧爬来的《九章阵华录》，看上去还可以。</p>
<p>为了不浪费这个现成的前后端分离的网页，Teburile忽悠一位大腿，把项目放在了树莓派上，悄悄对外开放。看上去有那味了。</p>
<p>大腿嫌弃网页不太好看，建议Teburile放一张背景图片，于是Teburile想尽一切办法做到了，大概是使用CSS的伪类（具体他也不太懂）。当天一直到晚上，工作就是美化这两个丑丑的页面。</p>
<p>虽然有基本的登录验证，但是好像直接访问主页面的文件可以直接进去，这是一个大问题，得修！</p>
<h3 id="第二天"><a href="#第二天" class="headerlink" title="第二天"></a>第二天</h3><p>为了解决昨天那个问题，大腿向Teburile建议看看cookie，于是Teburile通过这个东西，<del>摸了一上午的鱼</del>做出了限制跳转的解决方案。</p>
<p>具体是这样的：</p>
<ol>
<li>测试工程师A进入登录页面，输入账号密码，正确。js创建cookie，然后进入主页面，一切安好。</li>
<li>测试工程师A关闭主页面、登录页面标签，强行进入主页面，访问时，检测到有cookie，检测其中的账号密码，<del>天王盖地虎，宝塔镇河妖</del>暗号正确，于是A顺利进入了主页面。</li>
<li>测试工程师B强行进入主页面，没有检测到cookie，被js强行跳转到了登录页面，让他<del>乖乖站好</del>登录。</li>
<li>测试工程师A关闭浏览器，重新打开，强行进入主页面，这时，神奇的事情发生了，只有中午的时候，cookie被保存的下来，能够顺利进入，其他时候就不行。<del>懂了，这是“这破网页早晚得挂掉”意思吧。</del>这个问题到目前为止，Teburile都没有头绪，但最起码，“又不是不能用！”<del>圣经</del></li>
</ol>
<p>经过这一番cookie的折腾，这网页看着逐渐正规了起来。为了更加正规一点，Teburile想把废弃了的注册方案重新捡起来。</p>
<p>当天下午，Tebur重新打开了Python，想要用数据库管理。他想使用支持多并发的MySQL，但是又懒得安装数据库、懒得开端口，于是又双叒叕捡起了SQLite，仿照上次的代码，Teburile复刻了几乎一模一样的登录以及注册后端。这次不一样的是，Teburile对传输的密码进行了MD5加密，<del>天大的进步！</del></p>
<p>虽然比较简陋，但后端不还是开起来了吗？</p>
<p>于是他有着手书写前端，仿照登录页面，复刻了同样丑丑了注册界面，很顺利的，前后端能够正常使用，两天的努力也算是有个回报。</p>
<h3 id="中间碰到的奇奇怪怪的问题"><a href="#中间碰到的奇奇怪怪的问题" class="headerlink" title="中间碰到的奇奇怪怪的问题"></a>中间碰到的奇奇怪怪的问题</h3><p>除了上面说的那个cookie的问题，Teburile还发现了其他的问题。</p>
<p>比较头大的一个是跨域（CORS）的问题：</p>
<blockquote>
<p>什么是跨域呢？大概就是，网页在10001端口，而后端在10002端口，网页给后端发请求，但不是原本的端口。可以理解为，我上自习课要找同桌说话，这时老师就把我拦下来了。同样也是，浏览器会拦截跨域的请求。但是，我可以提前向老师打报告，说有重要的事要请教，也就可以说话（小声）了。只要在fatch请求当中把模式（mode）调整为跨域（cors），就可以顺利发出去请求了。</p>
<p>但是这样还不够，同桌自己在好好写作业，莫名其妙有人要请教，终归是不太好看。但是同桌（大腿）可以声明，自己这节课没事干，想来请教的尽管放马过来。只需要后端在监听时声明，哪些IP哪些请求可以跨域访问，就可以顺利的请求到想要的资源。</p>
<p>经过这一番折腾，我上自习课解决了问题，网页也成功从后端拿到了数据。大概就是这样</p>
</blockquote>
<p>另外一个就是网络传输协议的问题，带不带S的问题：</p>
<blockquote>
<p>Teburile发现，给http端口发送https请求会报错，反过来也是这样，看上去非常地合理。但问题在于，有些时候，并没有意识到自己是哪一个端口。</p>
<p>就像是大腿的树莓派，挂载的域名是https，但是Teburile经常就会发送http请求；本地的uvicorn开启热重载的端口是http请求，用chorme的API插件发送时，经常写错成https请求，也是非常不靠谱了。</p>
</blockquote>
<p>至于其他的问题，Teburile暂时也想不起来了。</p>
<h3 id="总结？"><a href="#总结？" class="headerlink" title="总结？"></a>总结？</h3><p>大概看看这个项目，都用了什么。</p>
<p>前端，也就是网页，用了HTML、CSS、JS，分别实习网页框架、网页美化和网页逻辑（包含给后端发送请求。）</p>
<p>后端，也就是处理的地方，只用了Python，但是用了FastAPI、SQLalchemy两个包，前者用了监听前端的请求，后者用来操纵数据库，中间的逻辑则由Python完成。</p>
<p>整个项目也算是大杂烩了吧。</p>
<p>Teburile有点<del>想摸鱼</del>困了，今天就写到这里吧。</p>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/2022/01/17/%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/" title="2021 年度总结"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">上一页: 2021 年度总结</span></a><a class="button is-default" href="/2021/08/25/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%BC%80%E5%8F%91%E8%80%85%E5%B7%A5%E5%85%B7/" title="浏览器开发者工具简介"><span class="has-text-weight-semibold">下一页: 浏览器开发者工具简介</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="Teburile/blog-comments" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com//"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/Teburile"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com//"><i class="iconfont icon-ins"></i></a><!-- RSS--><!-- 知乎--><!-- 领英--><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com//"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright © </span><span> Teburile 2022</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/post.js"></script></body></html>