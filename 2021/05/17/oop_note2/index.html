<!DOCTYPE html><html class="appearance-auto" lang="zh-CN"><head><meta charset="UTF-8"><title>OOP笔记（2）</title><meta name="description" content="For a New Life"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/image/favicon2.ico"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="字符串处理变长字符串 
vector&amp;lt;char&amp;gt;//并不好用

STL中有更方便的string类型
//构造
string s1;
string s2(s1,8,3) //从s1截取，第8位开始，截取3位
string s1(10,&amp;quot;x&amp;quot;) //把x复制10次
//可以像vector一样使用
//常用函数
cin&amp;gt;&amp;gt;first;
getline(cin,second,&amp;#39;/&amp;#39;);//读入，分隔符为&amp;#39;/&amp;#39;
string fullname = firstname + &amp;quot; &amp;quot; + lastname;//拼接,尽量换成+=
(&amp;quot;alice&amp;quot;&amp;lt;&amp;quot;bob&amp;quot;)//字符串可以直接比较，.."><meta name="generator" content="Hexo 5.4.2"></head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">Teburile's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">OOP笔记（2）</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">点击返回顶部</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86"><span class="toc-text">字符串处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E8%BE%93%E5%87%BA%E6%B5%81"><span class="toc-text">输出输出流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-text">基本输入输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%B5%81"><span class="toc-text">文件输入输出流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%B5%81"><span class="toc-text">字符串输入输出流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-text">关于输入输出</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D"><span class="toc-text">基本模式匹配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%B0%87"><span class="toc-text">字符簇</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-%E4%B8%AD%E4%BD%BF%E7%94%A8"><span class="toc-text">C++中使用</span></a></li></ol></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/OOP"><i class="tag post-item-tag">OOP</i></a><a href="/tags/note"><i class="tag post-item-tag">note</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">OOP笔记（2）</h1><time class="has-text-grey" datetime="2021-05-17T01:00:00.000Z">2021-05-17</time><article class="mt-2 post-content"><h2 id="字符串处理"><a href="#字符串处理" class="headerlink" title="字符串处理"></a>字符串处理</h2><p>变长字符串 </p>
<pre><code class="c++">vector&lt;char&gt;//并不好用
</code></pre>
<p>STL中有更方便的string类型</p>
<pre><code class="c++">//构造
string s1;
string s2(s1,8,3) //从s1截取，第8位开始，截取3位
string s1(10,&quot;x&quot;) //把x复制10次
//可以像vector一样使用
//常用函数
cin&gt;&gt;first;
getline(cin,second,&#39;/&#39;);//读入，分隔符为&#39;/&#39;
string fullname = firstname + &quot; &quot; + lastname;//拼接,尽量换成+=
(&quot;alice&quot;&lt;&quot;bob&quot;)//字符串可以直接比较，按照字典序进行比较，True
to_string;//其他类型换成字符串
stoi();//用来把字符串转换为int
stod();//用来把字符串转换为double
</code></pre>
<h2 id="输出输出流"><a href="#输出输出流" class="headerlink" title="输出输出流"></a>输出输出流</h2><h3 id="基本输入输出"><a href="#基本输入输出" class="headerlink" title="基本输入输出"></a>基本输入输出</h3><p>iostream是一个类</p>
<p>具体继承关系为:</p>
<p><img src="https://i.loli.net/2021/05/17/PbeT4OCYf5wszBm.png" alt="iostream.png"></p>
<p>箭头指向父类（上图缺少由iostream指向istream和ostream的箭头），cin,cout为对象</p>
<p>统一了输出接口，改善了C中输出方式的混乱</p>
<pre><code class="c++">#include &lt;iomanip&gt;
cout&lt;&lt;fixed&lt;&lt;2800;//输出固定位数浮点数
cout&lt;&lt;scientific&lt;&lt;2018.0;//科学输入法
cout&lt;&lt;defaultfloat;//还原默认输出格式，每次用完特殊参数要还原
cout&lt;&lt;setprecision(2)&lt;&lt;3.1415;//设置精度为两位，输出3.1
cout&lt;&lt;oct&lt;&lt;12&lt;&lt;hex&lt;&lt;12;//输出八进制，十六进制
cout&lt;&lt;dec;//还原10进制
cout&lt;&lt;setw(3)&lt;&lt;setfill(&#39;*&#39;)&lt;&lt;5;//设置对齐长度，对齐字符为*, **5
</code></pre>
<p>流操纵算子可以自己定义类和输入输出操作，再更改输入输出类可以实现特定操作；</p>
<p>endl是一个函数，输出\n，并且清空缓存区。</p>
<p>流运算符的重载要返回指针，避免复制，仅仅使用cout一个全局对象。</p>
<p>只使用一个对象，减少复制开销，一个对象对于一个标准输出；</p>
<h3 id="文件输入输出流"><a href="#文件输入输出流" class="headerlink" title="文件输入输出流"></a>文件输入输出流</h3><p>功能是从文件中读取数据（是一个类，各个输入输出是局部对象）</p>
<pre><code class="c++">//打开、关闭文件
ifstream ifs(&quot;input.txt&quot;);
ifstream ifs(&quot;binary.bin&quot;,ifstrea,::binary);//以二进制形式打开文件
ifstream ifs;
ifs.open(&quot;input.txt&quot;);
ifs.close;//关闭文件
</code></pre>
<pre><code class="c++">//其他操作(ifstream是istream的子类)
getline(cin,str);
get();//读取一个字符
ignore(int n=1;int delim=EOF);//丢弃n个字符或者遇到分隔符
peek();
outback();
unget();
...
</code></pre>
<h3 id="字符串输入输出流"><a href="#字符串输入输出流" class="headerlink" title="字符串输入输出流"></a>字符串输入输出流</h3><p>一般用于程序内部的字符串操作</p>
<pre><code class="c++">stringstream ss;//构造
ss&lt;&lt;&quot;10&quot;;
ss&lt;&lt;&quot;12  21&quot;;
int a,b;
ss&gt;&gt;a&gt;&gt;b;//a=1212 b=21
//可以连接字符串，可以转换为其他类型的数据，配合流操作算子，可以达到格式化输出效果
</code></pre>
<p>stringstream内维护了一个buffer</p>
<pre><code class="c++">stringstream ss;
ss.str();//获取buffer
//类型转换，使用模板实现
</code></pre>
<h3 id="关于输入输出"><a href="#关于输入输出" class="headerlink" title="关于输入输出"></a>关于输入输出</h3><p>程序分为两部分：</p>
<ul>
<li>程序的算法本身</li>
<li>输入输出的对象</li>
</ul>
<p>数据从算法到对象为输出，从对象到算法为输入，箭头指向数据进入的方向；</p>
<pre><code class="c++">cin&gt;&gt;a;
cout&lt;&lt;a;
</code></pre>
<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>正则表达式：由字母和符号组成的特殊文本，搜索文本时定义的一种规则</p>
<p>使用正则表达式表示规则，例如：只能包含小写字母、数字、下划线和连字符，并且限制用户名长度在3~15个字符之间</p>
<pre><code class="c++">^[a-z0-9_]&#123;3,15&#125;$
//^开始标记
//[a-z0-9_]字母数字下划线连字符
//&#123;3.15&#125;字符长度
//$结束标记
</code></pre>
<p>正则表达式的三种模式：</p>
<ul>
<li>匹配：判断是否满足条件</li>
<li>搜索：符合正则表达式的子串</li>
<li>按规则替换字符串的子串</li>
</ul>
<h3 id="基本模式匹配"><a href="#基本模式匹配" class="headerlink" title="基本模式匹配"></a>基本模式匹配</h3><ul>
<li>字符代表本身</li>
<li>转译字符，使用\转译，\使用\\来转译</li>
<li>特殊匹配字符<ul>
<li>^代表字符串开头，$代表字符串结尾</li>
<li>如：^\只能匹配到以制表符开头的内容</li>
<li>如：^bucket$只能匹配到只含bucket的内容</li>
</ul>
</li>
</ul>
<h3 id="字符簇"><a href="#字符簇" class="headerlink" title="字符簇"></a>字符簇</h3><ul>
<li>单个字符<ul>
<li>[asd] 只能是asd</li>
<li>[a-z] 单个小写字母</li>
<li>[0-9]单个数字</li>
</ul>
</li>
<li>范围取反<ul>
<li>[^a-z]不是小写字母</li>
</ul>
</li>
<li>连用<ul>
<li>[a-z][0-9]</li>
<li>[a-z]ht普配小写字母和ht</li>
</ul>
</li>
<li>特殊字符</li>
<li>重复模式<ul>
<li>{n,m}前面的内容出现n~m次，仅仅对前面一位有效</li>
</ul>
</li>
<li>或连接符‘|’</li>
<li>（）改变优先级</li>
</ul>
<h3 id="C-中使用"><a href="#C-中使用" class="headerlink" title="C++中使用"></a>C++中使用</h3><p>&lt;regex&gt;库</p>
<pre><code class="c++">regex re(&quot;^[1-9][0-9]&#123;10&#125;$&quot;);//匹配11位数
//匹配
string s(&quot;awd&quot;);
regex e(&quot;a[a-z]&#123;2&#125;&quot;);
if(regex_match(s,e))&#123;
    cout&lt;&lt;matched;
&#125;
</code></pre>
<p>原生字符串：取消转译，保留字面值</p>
<pre><code class="c++">&quot;\\d+&quot; = R&quot;(\d+)&quot; = \d+
 string str=R&quot;(hello
 world);//str = &quot;hello\nworld&quot;;
</code></pre>
<p>匹配和捕获：使用()进行标识，每个被标识的内容被称为分组</p>
<pre><code class="c++">string s(&quot;version10&quot;);
regex e(R&quot;(version(\d+))&quot;);
smatch sm;
if(regex_match(s,sm,e))&#123;
    cout&lt;&lt;sm.size()&lt;&lt;endl;
    for(int i=0;i&lt;sm.size();i++)&#123;
        cout&lt;&lt;sm[i]&lt;&lt;endl;
    &#125;
&#125;
</code></pre>
<p>会输出</p>
<pre><code>2
version10
10
</code></pre>
<p>分组当中，0是字符串本身</p>
<p>搜索：</p>
<pre><code class="c++">string s(&quot;this subject has a submarine&quot;);
regex e(R“((sub)([\S]*))”); 
smatch sm;
while(regex_search(s,sm,e))&#123;
    for (unsigned i=0; i&lt;sm.size(); ++i)
        cout &lt;&lt; &quot;[&quot; &lt;&lt; sm[i] &lt;&lt; &quot;] &quot;;
    cout &lt;&lt; endl;
    s = sm.suffix().str();
&#125;
return 0;
</code></pre>
<p>输出是</p>
<pre><code class="c++">[subject] [sub] [ject] 
[submarine] [sub] [marine]
</code></pre>
<p>每次搜索只会保存第一个匹配的子串</p>
<p>替换：</p>
<pre><code class="c++">regex_replace(s,re,s1);//替换s中的所有匹配re的子串并且换成s1
//s1可以是基本文本，也可以是一些特殊符号，代表分组
//$&amp;代表当前串，$1,$2分别代表第一个、第二个子串
</code></pre>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/2021/05/19/note_of_macro_economics/" title="《曼昆经济学》宏观分册笔记"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">上一页: 《曼昆经济学》宏观分册笔记</span></a><a class="button is-default" href="/2021/05/09/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8MarkDown%E4%B9%A6%E5%86%99%E5%8D%9A%E5%AE%A2%20-%20%E5%8D%9A%E5%AE%A2%E7%89%88/" title="如何使用MarkDown书写博客"><span class="has-text-weight-semibold">下一页: 如何使用MarkDown书写博客</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="Teburile/blog-comments" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com//"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/Teburile"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com//"><i class="iconfont icon-ins"></i></a><!-- RSS--><!-- 知乎--><!-- 领英--><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com//"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright © </span><span> Teburile 2022</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/post.js"></script></body></html>